{"ast":null,"code":"import{useEffect}from'react';import{useWorkoutsContext}from\"../hooks/useWorkoutsContext\";import{useAuthContext}from\"../hooks/useAuthContext\";// components\nimport WorkoutDetails from'../components/WorkoutDetails';import WorkoutForm from'../components/WorkoutForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const{workouts,dispatch}=useWorkoutsContext();const{user}=useAuthContext();useEffect(()=>{const fetchWorkouts=async()=>{const response=await fetch('/api/workouts',{headers:{'Authorization':\"Bearer \".concat(user.token)}});const json=await response.json();if(response.ok){dispatch({type:'SET_WORKOUTS',payload:json});}};if(user){fetchWorkouts();}},[dispatch,user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"workouts\",children:workouts&&workouts.map(workout=>/*#__PURE__*/_jsx(WorkoutDetails,{workout:workout},workout._id))}),/*#__PURE__*/_jsx(WorkoutForm,{})]});};export default Home;","map":{"version":3,"names":["useEffect","useWorkoutsContext","useAuthContext","WorkoutDetails","WorkoutForm","jsx","_jsx","jsxs","_jsxs","Home","workouts","dispatch","user","fetchWorkouts","response","fetch","headers","concat","token","json","ok","type","payload","className","children","map","workout","_id"],"sources":["/Users/joshgarvey/Desktop/MERNstack/MERN-Stack-Tutorial-1/frontend/src/pages/Home.js"],"sourcesContent":["import { useEffect } from 'react'\nimport { useWorkoutsContext } from \"../hooks/useWorkoutsContext\"\nimport { useAuthContext } from \"../hooks/useAuthContext\"\n\n// components\nimport WorkoutDetails from '../components/WorkoutDetails'\nimport WorkoutForm from '../components/WorkoutForm'\n\nconst Home = () => {\n\tconst { workouts, dispatch } = useWorkoutsContext()\n\tconst { user } = useAuthContext()\n\n\tuseEffect(() => {\n\t\tconst fetchWorkouts = async () => {\n\t\t\tconst response = await fetch('/api/workouts', {\n\t\t\t\theaders: { 'Authorization': `Bearer ${user.token}` },\n\t\t\t})\n\t\t\tconst json = await response.json()\n\n\t\t\tif (response.ok) {\n\t\t\t\tdispatch({ type: 'SET_WORKOUTS', payload: json })\n\t\t\t}\n\t\t}\n\n\t\tif (user) {\n\t\t\tfetchWorkouts()\n\t\t}\n\t}, [dispatch, user])\n\n\treturn (\n\t\t<div className=\"home\">\n\t\t\t<div className=\"workouts\">\n\t\t\t\t{workouts && workouts.map((workout) => (\n\t\t\t\t\t<WorkoutDetails key={workout._id} workout={workout} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<WorkoutForm />\n\t\t</div>\n\t)\n}\n\nexport default Home"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,kBAAkB,KAAQ,6BAA6B,CAChE,OAASC,cAAc,KAAQ,yBAAyB,CAExD;AACA,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CACzD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnD,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CAClB,KAAM,CAAEC,QAAQ,CAAEC,QAAS,CAAC,CAAGV,kBAAkB,CAAC,CAAC,CACnD,KAAM,CAAEW,IAAK,CAAC,CAAGV,cAAc,CAAC,CAAC,CAEjCF,SAAS,CAAC,IAAM,CACf,KAAM,CAAAa,aAAa,CAAG,KAAAA,CAAA,GAAY,CACjC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,eAAe,CAAE,CAC7CC,OAAO,CAAE,CAAE,eAAe,WAAAC,MAAA,CAAYL,IAAI,CAACM,KAAK,CAAG,CACpD,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACK,IAAI,CAAC,CAAC,CAElC,GAAIL,QAAQ,CAACM,EAAE,CAAE,CAChBT,QAAQ,CAAC,CAAEU,IAAI,CAAE,cAAc,CAAEC,OAAO,CAAEH,IAAK,CAAC,CAAC,CAClD,CACD,CAAC,CAED,GAAIP,IAAI,CAAE,CACTC,aAAa,CAAC,CAAC,CAChB,CACD,CAAC,CAAE,CAACF,QAAQ,CAAEC,IAAI,CAAC,CAAC,CAEpB,mBACCJ,KAAA,QAAKe,SAAS,CAAC,MAAM,CAAAC,QAAA,eACpBlB,IAAA,QAAKiB,SAAS,CAAC,UAAU,CAAAC,QAAA,CACvBd,QAAQ,EAAIA,QAAQ,CAACe,GAAG,CAAEC,OAAO,eACjCpB,IAAA,CAACH,cAAc,EAAmBuB,OAAO,CAAEA,OAAQ,EAA9BA,OAAO,CAACC,GAAwB,CACrD,CAAC,CACE,CAAC,cACNrB,IAAA,CAACF,WAAW,GAAE,CAAC,EACX,CAAC,CAER,CAAC,CAED,cAAe,CAAAK,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}